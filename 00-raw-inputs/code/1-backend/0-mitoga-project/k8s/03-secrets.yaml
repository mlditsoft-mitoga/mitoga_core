# ============================================================================
# SECRET: mitoga-db-credentials
# Purpose: Credenciales de base de datos PostgreSQL
# IMPORTANTE: En producción, usar Vault o External Secrets Operator
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mitoga-db-credentials
  namespace: mi-toga
  labels:
    app: mitoga-backend
    type: database-credentials
type: Opaque
stringData:
  DB_USERNAME: "mitoga_user"
  DB_PASSWORD: "changeme_mitoga_2025"  # CAMBIAR en producción
  DB_HOST: "postgres-external.databases.svc.cluster.local"
  DB_PORT: "5432"
  DB_NAME: "mitoga_db"
  # Connection string completa
  DATABASE_URL: "jdbc:postgresql://postgres-external.databases.svc.cluster.local:5432/mitoga_db"
  
---
# ============================================================================
# SECRET: mitoga-redis-credentials
# Purpose: Credenciales de Redis
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mitoga-redis-credentials
  namespace: mi-toga
  labels:
    app: mitoga-backend
    type: cache-credentials
type: Opaque
stringData:
  REDIS_HOST: "redis.databases.svc.cluster.local"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: "changeme_redis_2025"  # CAMBIAR en producción
  
---
# ============================================================================
# SECRET: mitoga-mail-credentials
# Purpose: Credenciales de correo SMTP
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mitoga-mail-credentials
  namespace: mi-toga
  labels:
    app: mitoga-backend
    type: mail-credentials
type: Opaque
stringData:
  MAIL_HOST: "smtp.gmail.com"
  MAIL_PORT: "587"
  MAIL_USERNAME: "noreply@mitoga.com"
  MAIL_PASSWORD: "changeme_mail_2025"  # CAMBIAR en producción
  
---
# ============================================================================
# SECRET: mitoga-vault-token
# Purpose: Token para acceder a Vault
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mitoga-vault-token
  namespace: mi-toga
  labels:
    app: mitoga-backend
    type: vault-credentials
type: Opaque
stringData:
  VAULT_TOKEN: "s.changeme_vault_token"  # CAMBIAR en producción
  VAULT_ADDR: "http://vault.cicd.svc.cluster.local:8200"
  
---
# ============================================================================
# SECRET: mitoga-jwt-keys
# Purpose: Claves JWT para autenticación
# ============================================================================
apiVersion: v1
kind: Secret
metadata:
  name: mitoga-jwt-keys
  namespace: mi-toga
  labels:
    app: mitoga-backend
    type: auth-keys
type: Opaque
stringData:
  JWT_SECRET: "changeme_jwt_secret_key_minimum_256_bits_required_for_HS256"  # CAMBIAR
  JWT_EXPIRATION: "86400000"  # 24 horas en milisegundos
  JWT_ISSUER: "mitoga-platform"
  JWT_AUDIENCE: "mitoga-api"
  
---
# ============================================================================
# SECRET: docker-registry-secret
# Purpose: Credenciales para pull de imágenes de Docker Registry
# NOTA: Crear con comando: 
# kubectl create secret docker-registry docker-registry-secret \
#   --docker-server=registry.example.com \
#   --docker-username=user \
#   --docker-password=pass \
#   --docker-email=email@example.com \
#   -n mi-toga
# ============================================================================
# Este secret se crea manualmente o via Jenkins
